org: thr0wn
app: ora-cash-server
service: ora-cash-server

provider:
  name: aws
  runtime: nodejs12.x
  stage: ${opt:stage, 'dev'}
  environment:
    MONGO_URL: ${file(./env.${self:provider.stage}.json):MONGO_URL}

plugins:
  - serverless-offline

functions:
  createOracle:
    handler: ./src/oracles/oracles.handler.create
    events:
      - http:
          path: api/rest/oracles
          method: post
          cors: true
  listOracles:
    handler: ./src/oracles/oracles.handler.list
    events:
      - http:
          path: api/rest/oracles
          method: get
          cors: true